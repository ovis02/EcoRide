{% extends 'baseUser.html.twig' %} {% block title %}Espace Utilisateur -
Ecoride{% endblock %} {% block content %}

<!-- Flash messages -->
{% for message in app.flashes('success') %}
<div class="alert alert-success mt-3">
  {{ message }}
</div>
{% endfor %}

<div class="role-selection-wrapper">
  <h2 class="text-center mb-4">Tableau de bord</h2>

  {% if 'ROLE_CHAUFFEUR' not in app.user.roles or 'ROLE_PASSAGER' not in
  app.user.roles %}
  <div class="role-box">
    <h4>Compl√©tez votre profil</h4>
    <p>Vous pouvez ajouter un r√¥le suppl√©mentaire √† votre compte :</p>

    <div class="role-buttons">
      {% if 'ROLE_CHAUFFEUR' not in app.user.roles %}
      <form
        method="post"
        action="{{ path('ajouter_role', { role: 'chauffeur' }) }}"
      >
        <button class="role-btn">Devenir Chauffeur</button>
      </form>
      {% endif %} {% if 'ROLE_PASSAGER' not in app.user.roles %}
      <form
        method="post"
        action="{{ path('ajouter_role', { role: 'passager' }) }}"
      >
        <button class="role-btn">Devenir Passager</button>
      </form>
      {% endif %}
    </div>
  </div>
  {% endif %}

  <div class="role-info">
    <p>
      <strong>Bienvenue {{ app.user.pseudo }} üëã</strong>
    </p>
    <p>Adresse email : {{ app.user.email }}</p>
    <p>
      Cr√©dits disponibles : <strong>{{ app.user.credits }}</strong>
    </p>

    <hr />

    {% if isChauffeur and isPassager %}
    <p><strong>R√¥le actuel :</strong> Chauffeur & Passager</p>
    <p>
      Vous pouvez proposer des trajets, g√©rer vos v√©hicules, et r√©server des
      trajets en tant que passager.
    </p>

    {% elseif isChauffeur %}
    <p><strong>R√¥le actuel :</strong> Chauffeur</p>
    <p>
      Vous pouvez proposer des trajets, g√©rer vos v√©hicules et consulter vos
      passagers.
    </p>

    {% elseif isPassager %}
    <p><strong>R√¥le actuel :</strong> Passager</p>
    <p>
      Vous pouvez rechercher et r√©server des trajets propos√©s par les autres
      chauffeurs.
    </p>
    {% endif %}
  </div>
</div>

{% endblock %}
